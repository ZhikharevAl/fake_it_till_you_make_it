{"uid":"23bccb03955d1215","name":"Тест успешного получения списка избранного","fullName":"tests.user.test_user_favourites_api.TestUserFavouritesAPI#test_get_favourites_success","historyId":"ffe87828fd4ec27492b9f047ec29073c","time":{"start":1745295758345,"stop":1745295758376,"duration":31},"description":"Проверяем получение списка избранного для аутентифицированного пользователя.","descriptionHtml":"<p>Проверяем получение списка избранного для аутентифицированного пользователя.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1745295754560,"stop":1745295754560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1745295754561,"stop":1745295754561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1745295754561,"stop":1745295754561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1745295754561,"stop":1745295754562,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1745295754562,"stop":1745295754988,"duration":426},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1745295754988,"stop":1745295755014,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1745295755014,"stop":1745295755015,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1745295755015,"stop":1745295755016,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1745295758085,"stop":1745295758156,"duration":71},"status":"failed","statusMessage":"Failed: КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя testUser4@test.com. Ошибка: The status was pending 200, but received 500. URL: http://localhost:4040/api/auth\nBody of the answer:\nPlanned Server Error\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 898, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/app/tests/conftest.py\", line 109, in auth_token_fixture\n    pytest.fail(\n    ~~~~~~~~~~~^\n        f\"КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя \"\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        f\"{TEST_USER_LOGIN}. Ошибка: {e}\",\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        pytrace=False,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[{"uid":"990cc851153d5a4b","name":"Status Code: 500","source":"990cc851153d5a4b.txt","type":"text/plain","size":3},{"uid":"3dc6a817702d74f1","name":"Request URL","source":"3dc6a817702d74f1.uri","type":"text/uri-list","size":30},{"uid":"2e6d0944a8d5900c","name":"Response Headers (JSON)","source":"2e6d0944a8d5900c.json","type":"application/json","size":309},{"uid":"de115f365ea204d0","name":"Response Body (Text)","source":"de115f365ea204d0.txt","type":"text/plain","size":20},{"uid":"5672d4ef5c9ff32e","name":"Status response code: 500 (Expected: 200)","source":"5672d4ef5c9ff32e.txt","type":"text/plain","size":3}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"auth_token","time":{"start":1745295758179,"stop":1745295758256,"duration":77},"status":"passed","steps":[],"attachments":[{"uid":"729458dc7e16e9b9","name":"Status Code: 200","source":"729458dc7e16e9b9.txt","type":"text/plain","size":3},{"uid":"5d95c960babed389","name":"Request URL","source":"5d95c960babed389.uri","type":"text/uri-list","size":30},{"uid":"26c7784557983b5a","name":"Response Headers (JSON)","source":"26c7784557983b5a.json","type":"application/json","size":317},{"uid":"b8b4d51ffa18ff72","name":"Response Body (JSON)","source":"b8b4d51ffa18ff72.json","type":"application/json","size":224},{"uid":"9e650ed01b184dc0","name":"Status response code: 200 (Expected: 200)","source":"9e650ed01b184dc0.txt","type":"text/plain","size":3},{"uid":"b42e88f22c418437","name":"Body of the answer (failed by AuthSuccessResponse)","source":"b42e88f22c418437.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1745295758333,"stop":1745295758343,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1745295758343,"stop":1745295758343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1745295758344,"stop":1745295758344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяем получение списка избранного для аутентифицированного пользователя.","status":"passed","steps":[{"name":"Проверка типа ответа и содержимого списка","time":{"start":1745295758375,"stop":1745295758375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"cd8a22f4947157b1","name":"Status Code: 200","source":"cd8a22f4947157b1.txt","type":"text/plain","size":3},{"uid":"68f475133d2f0fdb","name":"Request URL","source":"68f475133d2f0fdb.uri","type":"text/uri-list","size":41},{"uid":"2147f93f8e0c619f","name":"Response Headers (JSON)","source":"2147f93f8e0c619f.json","type":"application/json","size":314},{"uid":"99000b1bb46bcf78","name":"Response Body (JSON)","source":"99000b1bb46bcf78.json","type":"application/json","size":2},{"uid":"5db63e0d04fce419","name":"Status response code: 200 (Expected: 200)","source":"5db63e0d04fce419.txt","type":"text/plain","size":3},{"uid":"d36c617e2fadaf2c","name":"Список избранного (ответ 200 OK)","source":"d36c617e2fadaf2c.json","type":"application/json","size":2},{"uid":"344744d96d601936","name":"log","source":"344744d96d601936.txt","type":"text/plain","size":2676},{"uid":"8c4fa71da1cbd979","name":"stderr","source":"8c4fa71da1cbd979.txt","type":"text/plain","size":3145}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1745295758377,"stop":1745295758391,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1745295758397,"stop":1745295758412,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1745295758413,"stop":1745295758422,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"story","value":"Получение списка избранного"},{"name":"tag","value":"positive"},{"name":"tag","value":"smoke"},{"name":"tag","value":"favourites"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_favourites_api"},{"name":"subSuite","value":"TestUserFavouritesAPI"},{"name":"host","value":"fv-az520-964"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_favourites_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e332ec4f38c96363","status":"failed","statusDetails":"AssertionError: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1745295758267,"stop":1745295758303,"duration":36}},{"uid":"69bc0966c7bf159e","status":"failed","statusDetails":"Failed: КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя testUser4@test.com. Ошибка: The status was pending 200, but received 500. URL: http://localhost:4040/api/auth\nBody of the answer:\nPlanned Server Error","time":{"start":1745295758083,"stop":1745295758083,"duration":0}}],"categories":[],"tags":["favourites","smoke","positive","user"]},"source":"23bccb03955d1215.json","parameterValues":[]}