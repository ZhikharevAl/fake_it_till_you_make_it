{"uid":"8fb132422926cb27","name":"Тест успешного удаления запроса из избранного","fullName":"tests.user.test_user_api.TestUserAPI#test_remove_from_favourites_success","historyId":"ceac80401fd9e5cd9418de44e0277fcd","time":{"start":1758231644141,"stop":1758231644141,"duration":0},"description":"Проверяем удаление ранее добавленного элемента из избранного.","descriptionHtml":"<p>Проверяем удаление ранее добавленного элемента из избранного.</p>\n","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nPlanned Server Error')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1758231642318,"stop":1758231642319,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758231642319,"stop":1758231642319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758231642319,"stop":1758231642319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758231642319,"stop":1758231642319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1758231642320,"stop":1758231642823,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1758231642824,"stop":1758231642840,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1758231642841,"stop":1758231642841,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1758231642841,"stop":1758231642842,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1758231644141,"stop":1758231644205,"duration":64},"status":"passed","steps":[],"attachments":[{"uid":"2886f2e16feab0ea","name":"Status Code: 200","source":"2886f2e16feab0ea.txt","type":"text/plain","size":3},{"uid":"56ad2fe704d8f7b1","name":"Request URL","source":"56ad2fe704d8f7b1.uri","type":"text/uri-list","size":30},{"uid":"1ba4d381397b6534","name":"Response Headers (JSON)","source":"1ba4d381397b6534.json","type":"application/json","size":317},{"uid":"b8cb3a6f3d3d22c","name":"Response Body (JSON)","source":"b8cb3a6f3d3d22c.json","type":"application/json","size":224},{"uid":"23fa9a1893afc53f","name":"Status response code: 200 (Expected: 200)","source":"23fa9a1893afc53f.txt","type":"text/plain","size":3},{"uid":"fa7e6c0aa47f1f4a","name":"Body of the answer (failed by AuthSuccessResponse)","source":"fa7e6c0aa47f1f4a.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1758231644205,"stop":1758231644211,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1758231644211,"stop":1758231644211,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1758231644212,"stop":1758231644212,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_favourite","time":{"start":1758231644212,"stop":1758231644228,"duration":16},"status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1196, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 923, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/app/tests/user/conftest.py\", line 28, in setup_favourite\n    pytest.skip(f\"He удалось добавить элемент в избранное для тестов удаления: {e}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 159, in skip\n    raise Skipped(msg=reason, allow_module_level=allow_module_level)\n","steps":[{"name":"Добавление запроса в избранное","time":{"start":1758231644212,"stop":1758231644227,"duration":15},"status":"failed","statusMessage":"AssertionError: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/app/api/user/client.py\", line 63, in add_to_favourites\n    processed_response = self._handle_response(response, expected_status)\n  File \"/app/api/base_api.py\", line 69, in _handle_response\n    assert response.status == expected_status, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"d6b11d5d847d9126","name":"Status Code: 500","source":"d6b11d5d847d9126.txt","type":"text/plain","size":3},{"uid":"dcdaf2fc7547b256","name":"Request URL","source":"dcdaf2fc7547b256.uri","type":"text/uri-list","size":41},{"uid":"9f8bf4ba1dabc3ef","name":"Response Headers (JSON)","source":"9f8bf4ba1dabc3ef.json","type":"application/json","size":309},{"uid":"52374598029e1f3a","name":"Response Body (Text)","source":"52374598029e1f3a.txt","type":"text/plain","size":20},{"uid":"87e01ea30477da11","name":"Status response code: 500 (Expected: 200)","source":"87e01ea30477da11.txt","type":"text/plain","size":3}],"parameters":[{"name":"payload","value":"AddToFavouritesPayload(request_id='test-fav-34eba49f-8aad-4eaf-9413-f90cbb9ac1cd')"},{"name":"expected_status","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Проверяем удаление ранее добавленного элемента из избранного.","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nPlanned Server Error')","steps":[],"attachments":[{"uid":"a6a1bd774e161409","name":"log","source":"a6a1bd774e161409.txt","type":"text/plain","size":2286},{"uid":"54f495f420ff4b86","name":"stderr","source":"54f495f420ff4b86.txt","type":"text/plain","size":2543}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1758231644237,"stop":1758231644242,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1758231644371,"stop":1758231644377,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1758231644378,"stop":1758231644387,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"feature","value":"Избранное пользователя (DELETE /api/user/favourites/{id})"},{"name":"story","value":"Удаление из избранного"},{"name":"epic","value":"Управление пользователем"},{"name":"tag","value":"positive"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_api"},{"name":"subSuite","value":"TestUserAPI"},{"name":"host","value":"runnervmyfcvg"},{"name":"thread","value":"6-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":9,"passed":0,"unknown":0,"total":9},"items":[{"uid":"321e769a2e84bab0","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/126//#testresult/321e769a2e84bab0","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1758231402633,"stop":1758231402633,"duration":0}},{"uid":"e475f2dc0b7ded45","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/125//#testresult/e475f2dc0b7ded45","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1758230435647,"stop":1758230435647,"duration":0}},{"uid":"f189985e1efafcbd","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/124//#testresult/f189985e1efafcbd","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1755538569917,"stop":1755538569917,"duration":0}},{"uid":"8b283458b184bdee","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/123//#testresult/8b283458b184bdee","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1755511587472,"stop":1755511587472,"duration":0}},{"uid":"e6c6e291cc298842","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/122//#testresult/e6c6e291cc298842","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1755511257789,"stop":1755511257789,"duration":0}},{"uid":"8d7a7a24d5a1c1a2","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/121//#testresult/8d7a7a24d5a1c1a2","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1755508617718,"stop":1755508617718,"duration":0}},{"uid":"96b5d0799c7e269e","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/120//#testresult/96b5d0799c7e269e","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1755508196662,"stop":1755508196662,"duration":0}},{"uid":"8173a32afbc5b368","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/119//#testresult/8173a32afbc5b368","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1755507569148,"stop":1755507569148,"duration":0}}]},"tags":["positive","user"]},"source":"8fb132422926cb27.json","parameterValues":[]}