{"uid":"d867b977c29965d8","name":"Тест успешного удаления запроса из избранного","fullName":"tests.user.test_user_api.TestUserAPI#test_remove_from_favourites_success","historyId":"ceac80401fd9e5cd9418de44e0277fcd","time":{"start":1745180152317,"stop":1745180152317,"duration":0},"description":"Проверяем удаление ранее добавленного элемента из избранного.","descriptionHtml":"<p>Проверяем удаление ранее добавленного элемента из избранного.</p>\n","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1745180149399,"stop":1745180149400,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1745180149400,"stop":1745180149400,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1745180149400,"stop":1745180149400,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1745180149401,"stop":1745180149816,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1745180149401,"stop":1745180149401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1745180149816,"stop":1745180149850,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1745180149850,"stop":1745180149851,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1745180149851,"stop":1745180149851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1745180152320,"stop":1745180152425,"duration":105},"status":"passed","steps":[],"attachments":[{"uid":"a5aeae2bca2512ee","name":"Status Code: 200","source":"a5aeae2bca2512ee.txt","type":"text/plain","size":3},{"uid":"7b93d78cc57e843","name":"Request URL","source":"7b93d78cc57e843.uri","type":"text/uri-list","size":30},{"uid":"2cce3b8a1b339244","name":"Response Headers (JSON)","source":"2cce3b8a1b339244.json","type":"application/json","size":317},{"uid":"8d395473c7b6d950","name":"Response Body (JSON)","source":"8d395473c7b6d950.json","type":"application/json","size":224},{"uid":"473715003af38f0b","name":"Status response code: 200 (Expected: 200)","source":"473715003af38f0b.txt","type":"text/plain","size":3},{"uid":"92de5bc0470a9636","name":"Body of the answer (failed by AuthSuccessResponse)","source":"92de5bc0470a9636.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1745180152425,"stop":1745180152442,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1745180152442,"stop":1745180152442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_favourite","time":{"start":1745180152443,"stop":1745180152520,"duration":77},"status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/app/tests/user/conftest.py\", line 28, in setup_favourite\n    pytest.skip(f\"He удалось добавить элемент в избранное для тестов удаления: {e}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 160, in skip\n    raise Skipped(msg=reason, allow_module_level=allow_module_level)\n","steps":[{"name":"Добавление запроса в избранное","time":{"start":1745180152444,"stop":1745180152517,"duration":73},"status":"failed","statusMessage":"AssertionError: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/app/api/user/client.py\", line 63, in add_to_favourites\n    processed_response = self._handle_response(response, expected_status)\n  File \"/app/api/base_api.py\", line 69, in _handle_response\n    assert response.status == expected_status, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"a5c6dc6fa734bbbc","name":"Status Code: 400","source":"a5c6dc6fa734bbbc.txt","type":"text/plain","size":3},{"uid":"fb007889d9e075f3","name":"Request URL","source":"fb007889d9e075f3.uri","type":"text/uri-list","size":41},{"uid":"3b4c94d681ae5c25","name":"Response Headers (JSON)","source":"3b4c94d681ae5c25.json","type":"application/json","size":309},{"uid":"431941f0cc980dce","name":"Response Body (Text)","source":"431941f0cc980dce.txt","type":"text/plain","size":35},{"uid":"1f9e22a3b3901ccb","name":"Status response code: 400 (Expected: 200)","source":"1f9e22a3b3901ccb.txt","type":"text/plain","size":3}],"parameters":[{"name":"payload","value":"AddToFavouritesPayload(request_id='test-fav-7fca7128-e39d-4cdf-b797-05944e31679f')"},{"name":"expected_status","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1745180152443,"stop":1745180152443,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяем удаление ранее добавленного элемента из избранного.","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","steps":[],"attachments":[{"uid":"323be4c5b8042a70","name":"log","source":"323be4c5b8042a70.txt","type":"text/plain","size":2301},{"uid":"f8bfd8825380cd15","name":"stderr","source":"f8bfd8825380cd15.txt","type":"text/plain","size":2558}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1745180152527,"stop":1745180152545,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1745180152593,"stop":1745180152608,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1745180152609,"stop":1745180152618,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Избранное пользователя (DELETE /api/user/favourites/{id})"},{"name":"severity","value":"normal"},{"name":"story","value":"Удаление из избранного"},{"name":"epic","value":"Управление пользователем"},{"name":"tag","value":"@pytest.mark.usefixtures('setup_favourite')"},{"name":"tag","value":"positive"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_api"},{"name":"subSuite","value":"TestUserAPI"},{"name":"host","value":"fv-az1146-135"},{"name":"thread","value":"6-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":25,"passed":0,"unknown":0,"total":25},"items":[{"uid":"eb9886090978364a","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/52//#testresult/eb9886090978364a","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745173182331,"stop":1745173182331,"duration":0}},{"uid":"dab83d8d3527f2d7","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/51//#testresult/dab83d8d3527f2d7","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745173153354,"stop":1745173153354,"duration":0}},{"uid":"9a062a95741143d8","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/50//#testresult/9a062a95741143d8","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745171169120,"stop":1745171169120,"duration":0}},{"uid":"addc124ca7856b63","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/49//#testresult/addc124ca7856b63","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745016104582,"stop":1745016104582,"duration":0}},{"uid":"52b598fe4c67bee","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/48//#testresult/52b598fe4c67bee","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745015892382,"stop":1745015892382,"duration":0}},{"uid":"cf641831ae8e1f03","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/47//#testresult/cf641831ae8e1f03","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745014810013,"stop":1745014810013,"duration":0}},{"uid":"cba968c7c5b2e519","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/46//#testresult/cba968c7c5b2e519","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745014788127,"stop":1745014788127,"duration":0}},{"uid":"d6b69509c1ccd243","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/45//#testresult/d6b69509c1ccd243","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745013912998,"stop":1745013912998,"duration":0}},{"uid":"a4a3726190858a23","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/44//#testresult/a4a3726190858a23","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745013767718,"stop":1745013767718,"duration":0}},{"uid":"df531f59086433fe","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/43//#testresult/df531f59086433fe","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745007984283,"stop":1745007984283,"duration":0}},{"uid":"84dca02944429261","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/42//#testresult/84dca02944429261","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745007718152,"stop":1745007718152,"duration":0}},{"uid":"ef8327211cd3f709","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/40//#testresult/ef8327211cd3f709","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745007087011,"stop":1745007087011,"duration":0}},{"uid":"2dac648a33e37003","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/39//#testresult/2dac648a33e37003","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745006983192,"stop":1745006983192,"duration":0}},{"uid":"806e636459c3a90d","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/38//#testresult/806e636459c3a90d","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745006650507,"stop":1745006650507,"duration":0}},{"uid":"e2b95c6b6c00005","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/37//#testresult/e2b95c6b6c00005","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745006448003,"stop":1745006448003,"duration":0}},{"uid":"89a32e093ed1ed8f","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/36//#testresult/89a32e093ed1ed8f","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745006158614,"stop":1745006158614,"duration":0}},{"uid":"6792dc54458c6666","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/35//#testresult/6792dc54458c6666","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745005971668,"stop":1745005971668,"duration":0}},{"uid":"2ab1ae8adeb5ff4","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/34//#testresult/2ab1ae8adeb5ff4","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745005663354,"stop":1745005663354,"duration":0}},{"uid":"259fec17c73c83c1","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/33//#testresult/259fec17c73c83c1","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745005090149,"stop":1745005090149,"duration":0}},{"uid":"48ee49fd51906694","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/32//#testresult/48ee49fd51906694","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1744923399303,"stop":1744923399303,"duration":0}}]},"tags":["@pytest.mark.usefixtures('setup_favourite')","positive","user"]},"source":"d867b977c29965d8.json","parameterValues":[]}