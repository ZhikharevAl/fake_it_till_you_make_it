{"uid":"8b5e47b739830c7c","name":"Тест успешного удаления запроса из избранного","fullName":"tests.user.test_user_api.TestUserAPI#test_remove_from_favourites_success","historyId":"ceac80401fd9e5cd9418de44e0277fcd","time":{"start":1746224964536,"stop":1746224964536,"duration":0},"description":"Проверяем удаление ранее добавленного элемента из избранного.","descriptionHtml":"<p>Проверяем удаление ранее добавленного элемента из избранного.</p>\n","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1746224962188,"stop":1746224962188,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1746224962188,"stop":1746224962188,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1746224962189,"stop":1746224962708,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1746224962189,"stop":1746224962189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1746224962189,"stop":1746224962189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1746224962708,"stop":1746224962735,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1746224962735,"stop":1746224962736,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1746224962736,"stop":1746224962736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1746224964538,"stop":1746224964636,"duration":98},"status":"passed","steps":[],"attachments":[{"uid":"f91a2237203f7e1e","name":"Status Code: 200","source":"f91a2237203f7e1e.txt","type":"text/plain","size":3},{"uid":"f046cf6a4fccc644","name":"Request URL","source":"f046cf6a4fccc644.uri","type":"text/uri-list","size":30},{"uid":"5176b31d90805cf6","name":"Response Headers (JSON)","source":"5176b31d90805cf6.json","type":"application/json","size":317},{"uid":"e1cafa4f66de721","name":"Response Body (JSON)","source":"e1cafa4f66de721.json","type":"application/json","size":224},{"uid":"8e0de9b0aa60d433","name":"Status response code: 200 (Expected: 200)","source":"8e0de9b0aa60d433.txt","type":"text/plain","size":3},{"uid":"f79f7d27772f624b","name":"Body of the answer (failed by AuthSuccessResponse)","source":"f79f7d27772f624b.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1746224964637,"stop":1746224964654,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1746224964654,"stop":1746224964654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1746224964654,"stop":1746224964654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_favourite","time":{"start":1746224964655,"stop":1746224964730,"duration":75},"status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/app/tests/user/conftest.py\", line 28, in setup_favourite\n    pytest.skip(f\"He удалось добавить элемент в избранное для тестов удаления: {e}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 160, in skip\n    raise Skipped(msg=reason, allow_module_level=allow_module_level)\n","steps":[{"name":"Добавление запроса в избранное","time":{"start":1746224964655,"stop":1746224964726,"duration":71},"status":"failed","statusMessage":"AssertionError: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/app/api/user/client.py\", line 63, in add_to_favourites\n    processed_response = self._handle_response(response, expected_status)\n  File \"/app/api/base_api.py\", line 69, in _handle_response\n    assert response.status == expected_status, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"ad2a6d955fcca0a0","name":"Status Code: 400","source":"ad2a6d955fcca0a0.txt","type":"text/plain","size":3},{"uid":"3398685900ffda35","name":"Request URL","source":"3398685900ffda35.uri","type":"text/uri-list","size":41},{"uid":"6f7290abcb2d1de4","name":"Response Headers (JSON)","source":"6f7290abcb2d1de4.json","type":"application/json","size":309},{"uid":"91c4ed840955175b","name":"Response Body (Text)","source":"91c4ed840955175b.txt","type":"text/plain","size":35},{"uid":"5651ef409a681095","name":"Status response code: 400 (Expected: 200)","source":"5651ef409a681095.txt","type":"text/plain","size":3}],"parameters":[{"name":"payload","value":"AddToFavouritesPayload(request_id='test-fav-ed08a910-aefd-4dac-afd7-d9b197c38aac')"},{"name":"expected_status","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Проверяем удаление ранее добавленного элемента из избранного.","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","steps":[],"attachments":[{"uid":"d0faa432aa5595f3","name":"log","source":"d0faa432aa5595f3.txt","type":"text/plain","size":2301},{"uid":"f8386abc93926801","name":"stderr","source":"f8386abc93926801.txt","type":"text/plain","size":2558}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1746224964738,"stop":1746224964755,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1746224965033,"stop":1746224965049,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1746224965050,"stop":1746224965060,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"story","value":"Удаление из избранного"},{"name":"feature","value":"Избранное пользователя (DELETE /api/user/favourites/{id})"},{"name":"epic","value":"Управление пользователем"},{"name":"tag","value":"@pytest.mark.usefixtures('setup_favourite')"},{"name":"tag","value":"positive"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_api"},{"name":"subSuite","value":"TestUserAPI"},{"name":"host","value":"fv-az775-863"},{"name":"thread","value":"6-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":18,"passed":0,"unknown":0,"total":18},"items":[{"uid":"60700e77913069fe","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/87//#testresult/60700e77913069fe","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746224142037,"stop":1746224142037,"duration":0}},{"uid":"64b6ec297afb1183","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/86//#testresult/64b6ec297afb1183","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746143190243,"stop":1746143190243,"duration":0}},{"uid":"bfbcf055b1192ca6","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/85//#testresult/bfbcf055b1192ca6","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746142753611,"stop":1746142753611,"duration":0}},{"uid":"124310ae7919934b","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/84//#testresult/124310ae7919934b","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746055011411,"stop":1746055011411,"duration":0}},{"uid":"13d802ca974b895b","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/83//#testresult/13d802ca974b895b","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746054724908,"stop":1746054724908,"duration":0}},{"uid":"4a13ca758138cdee","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/82//#testresult/4a13ca758138cdee","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746054187653,"stop":1746054187653,"duration":0}},{"uid":"af351e79d22bd8ec","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/81//#testresult/af351e79d22bd8ec","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745969593029,"stop":1745969593029,"duration":0}},{"uid":"d59b1457ae9be251","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/80//#testresult/d59b1457ae9be251","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745946046113,"stop":1745946046113,"duration":0}},{"uid":"a75b48d7e22755f9","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/79//#testresult/a75b48d7e22755f9","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745348186291,"stop":1745348186291,"duration":0}},{"uid":"23cb9fa4d490a0e6","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/78//#testresult/23cb9fa4d490a0e6","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745347897405,"stop":1745347897405,"duration":0}},{"uid":"ce0876c8d58f523f","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/77//#testresult/ce0876c8d58f523f","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1745347099169,"stop":1745347099169,"duration":0}},{"uid":"7615e042fec3bf0e","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/76//#testresult/7615e042fec3bf0e","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745331970001,"stop":1745331970001,"duration":0}},{"uid":"947ec8d429d3bbd0","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/75//#testresult/947ec8d429d3bbd0","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1745298267344,"stop":1745298267344,"duration":0}},{"uid":"52f7ee63df0a9804","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/74//#testresult/52f7ee63df0a9804","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745297841344,"stop":1745297841344,"duration":0}},{"uid":"a115b096e505a6e7","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/73//#testresult/a115b096e505a6e7","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745297610945,"stop":1745297610945,"duration":0}},{"uid":"91f44ead53faa7db","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/72//#testresult/91f44ead53faa7db","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745297412141,"stop":1745297412141,"duration":0}},{"uid":"3d64bde636b3afaa","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/71//#testresult/3d64bde636b3afaa","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1745297305819,"stop":1745297305819,"duration":0}}]},"tags":["@pytest.mark.usefixtures('setup_favourite')","positive","user"]},"source":"8b5e47b739830c7c.json","parameterValues":[]}