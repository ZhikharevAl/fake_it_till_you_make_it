{"uid":"7c72fb65a8976409","name":"Тест успешного удаления запроса из избранного","fullName":"tests.user.test_user_api.TestUserAPI#test_remove_from_favourites_success","historyId":"ceac80401fd9e5cd9418de44e0277fcd","time":{"start":1755373120798,"stop":1755373120798,"duration":0},"description":"Проверяем удаление ранее добавленного элемента из избранного.","descriptionHtml":"<p>Проверяем удаление ранее добавленного элемента из избранного.</p>\n","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1755373119072,"stop":1755373119073,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755373119073,"stop":1755373119074,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755373119073,"stop":1755373119073,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755373119073,"stop":1755373119073,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1755373119074,"stop":1755373119567,"duration":493},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1755373119567,"stop":1755373119583,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1755373119583,"stop":1755373119584,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1755373119584,"stop":1755373119584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1755373120800,"stop":1755373120875,"duration":75},"status":"passed","steps":[],"attachments":[{"uid":"2c16d51edd57f5a8","name":"Status Code: 200","source":"2c16d51edd57f5a8.txt","type":"text/plain","size":3},{"uid":"6a1948c7364932b8","name":"Request URL","source":"6a1948c7364932b8.uri","type":"text/uri-list","size":30},{"uid":"7a0bcbb7452d7b8","name":"Response Headers (JSON)","source":"7a0bcbb7452d7b8.json","type":"application/json","size":317},{"uid":"dc472441453c71be","name":"Response Body (JSON)","source":"dc472441453c71be.json","type":"application/json","size":224},{"uid":"a75ae8b40d872de2","name":"Status response code: 200 (Expected: 200)","source":"a75ae8b40d872de2.txt","type":"text/plain","size":3},{"uid":"ae175e4bd0a4ee11","name":"Body of the answer (failed by AuthSuccessResponse)","source":"ae175e4bd0a4ee11.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1755373120875,"stop":1755373120881,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1755373120881,"stop":1755373120881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1755373120882,"stop":1755373120882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_favourite","time":{"start":1755373120882,"stop":1755373120910,"duration":28},"status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 922, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/app/tests/user/conftest.py\", line 28, in setup_favourite\n    pytest.skip(f\"He удалось добавить элемент в избранное для тестов удаления: {e}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 159, in skip\n    raise Skipped(msg=reason, allow_module_level=allow_module_level)\n","steps":[{"name":"Добавление запроса в избранное","time":{"start":1755373120882,"stop":1755373120908,"duration":26},"status":"failed","statusMessage":"AssertionError: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/app/api/user/client.py\", line 63, in add_to_favourites\n    processed_response = self._handle_response(response, expected_status)\n  File \"/app/api/base_api.py\", line 69, in _handle_response\n    assert response.status == expected_status, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"3cdcf11f9b0f45f","name":"Status Code: 400","source":"3cdcf11f9b0f45f.txt","type":"text/plain","size":3},{"uid":"18b76b75858e818c","name":"Request URL","source":"18b76b75858e818c.uri","type":"text/uri-list","size":41},{"uid":"2770472bbec93148","name":"Response Headers (JSON)","source":"2770472bbec93148.json","type":"application/json","size":309},{"uid":"a1ce0e66771b7f5","name":"Response Body (Text)","source":"a1ce0e66771b7f5.txt","type":"text/plain","size":35},{"uid":"f268f0e8959f8a36","name":"Status response code: 400 (Expected: 200)","source":"f268f0e8959f8a36.txt","type":"text/plain","size":3}],"parameters":[{"name":"payload","value":"AddToFavouritesPayload(request_id='test-fav-b6171de5-11f5-49d8-8244-9615ac721cd6')"},{"name":"expected_status","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Проверяем удаление ранее добавленного элемента из избранного.","status":"skipped","statusMessage":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","statusTrace":"('/app/tests/user/test_user_api.py', 89, 'Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\\nBody of the answer:\\nFailed to add request to favourites')","steps":[],"attachments":[{"uid":"f79703dbe070dd","name":"log","source":"f79703dbe070dd.txt","type":"text/plain","size":2301},{"uid":"2e567e7f87a485e9","name":"stderr","source":"2e567e7f87a485e9.txt","type":"text/plain","size":2558}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1755373120919,"stop":1755373120925,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1755373121426,"stop":1755373121430,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1755373121431,"stop":1755373121439,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Управление пользователем"},{"name":"story","value":"Удаление из избранного"},{"name":"severity","value":"normal"},{"name":"feature","value":"Избранное пользователя (DELETE /api/user/favourites/{id})"},{"name":"tag","value":"positive"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_api"},{"name":"subSuite","value":"TestUserAPI"},{"name":"host","value":"pkrvmdgpy2b27sr"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":26,"passed":0,"unknown":0,"total":26},"items":[{"uid":"2f5e4ffdb8273a87","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/114//#testresult/2f5e4ffdb8273a87","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1751392822473,"stop":1751392822473,"duration":0}},{"uid":"bf9ef9d86492dec3","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/113//#testresult/bf9ef9d86492dec3","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1751391609184,"stop":1751391609184,"duration":0}},{"uid":"9ac2db5c2b87540c","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/112//#testresult/9ac2db5c2b87540c","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1750873349908,"stop":1750873349908,"duration":0}},{"uid":"2b17bf9985b2976d","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/111//#testresult/2b17bf9985b2976d","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1750872839775,"stop":1750872839775,"duration":0}},{"uid":"f0ce10be3e3be41f","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/110//#testresult/f0ce10be3e3be41f","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746737424173,"stop":1746737424173,"duration":0}},{"uid":"e055f6871bffea0a","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/109//#testresult/e055f6871bffea0a","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746737207089,"stop":1746737207089,"duration":0}},{"uid":"51ce0d85278a7722","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/108//#testresult/51ce0d85278a7722","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746559314277,"stop":1746559314277,"duration":0}},{"uid":"beb7ea015b3a2172","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/107//#testresult/beb7ea015b3a2172","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746559023764,"stop":1746559023764,"duration":0}},{"uid":"4c8b26f41521e3e2","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/106//#testresult/4c8b26f41521e3e2","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746525759048,"stop":1746525759048,"duration":0}},{"uid":"52112743612783a1","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/105//#testresult/52112743612783a1","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746525194405,"stop":1746525194405,"duration":0}},{"uid":"dea3b111d72d9ed4","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/104//#testresult/dea3b111d72d9ed4","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746488405545,"stop":1746488405545,"duration":0}},{"uid":"5e708b3831e883a1","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/103//#testresult/5e708b3831e883a1","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746488159877,"stop":1746488159877,"duration":0}},{"uid":"49a2bf0459364889","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/102//#testresult/49a2bf0459364889","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746487131505,"stop":1746487131505,"duration":0}},{"uid":"f8d5cee6779fe919","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/101//#testresult/f8d5cee6779fe919","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746486678666,"stop":1746486678666,"duration":0}},{"uid":"5dc3d617a34c7648","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/100//#testresult/5dc3d617a34c7648","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746483620245,"stop":1746483620245,"duration":0}},{"uid":"79b4025b72f1c2aa","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/99//#testresult/79b4025b72f1c2aa","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746483424604,"stop":1746483424604,"duration":0}},{"uid":"bc3a9cc46fe33d83","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/98//#testresult/bc3a9cc46fe33d83","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746482682003,"stop":1746482682003,"duration":0}},{"uid":"ecba62144acf8b27","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/97//#testresult/ecba62144acf8b27","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746481275421,"stop":1746481275421,"duration":0}},{"uid":"40708e190a135f48","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/96//#testresult/40708e190a135f48","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 500. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nPlanned Server Error","time":{"start":1746479137717,"stop":1746479137717,"duration":0}},{"uid":"78dd8e5921a8a09e","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/95//#testresult/78dd8e5921a8a09e","status":"skipped","statusDetails":"Skipped: He удалось добавить элемент в избранное для тестов удаления: The status was pending 200, but received 400. URL: http://localhost:4040/api/user/favourites\nBody of the answer:\nFailed to add request to favourites","time":{"start":1746478918495,"stop":1746478918495,"duration":0}}]},"tags":["positive","user"]},"source":"7c72fb65a8976409.json","parameterValues":[]}