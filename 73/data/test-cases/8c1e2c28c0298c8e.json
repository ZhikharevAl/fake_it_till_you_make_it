{"uid":"8c1e2c28c0298c8e","name":"Тест успешного получения списка избранного","fullName":"tests.user.test_user_favourites_api.TestUserFavouritesAPI#test_get_favourites_success","historyId":"ffe87828fd4ec27492b9f047ec29073c","time":{"start":1745297611427,"stop":1745297611457,"duration":30},"description":"Проверяем получение списка избранного для аутентифицированного пользователя.","descriptionHtml":"<p>Проверяем получение списка избранного для аутентифицированного пользователя.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1745297607781,"stop":1745297607781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1745297607782,"stop":1745297607782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1745297607782,"stop":1745297607782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1745297607782,"stop":1745297607782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1745297607783,"stop":1745297608210,"duration":427},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1745297608211,"stop":1745297608248,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_client","time":{"start":1745297608248,"stop":1745297608249,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_client","time":{"start":1745297608249,"stop":1745297608249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_token","time":{"start":1745297611268,"stop":1745297611324,"duration":56},"status":"failed","statusMessage":"Failed: КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя testUser4@test.com. Ошибка: The status was pending 200, but received 500. URL: http://localhost:4040/api/auth\nBody of the answer:\nPlanned Server Error\n","statusTrace":"  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/app/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 898, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/app/tests/conftest.py\", line 109, in auth_token_fixture\n    pytest.fail(\n    ~~~~~~~~~~~^\n        f\"КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя \"\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        f\"{TEST_USER_LOGIN}. Ошибка: {e}\",\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        pytrace=False,\n        ^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/app/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[{"uid":"4d8d3433ddb22f9f","name":"Status Code: 500","source":"4d8d3433ddb22f9f.txt","type":"text/plain","size":3},{"uid":"c70388df05fa8e45","name":"Request URL","source":"c70388df05fa8e45.uri","type":"text/uri-list","size":30},{"uid":"4835257b67a027f5","name":"Response Headers (JSON)","source":"4835257b67a027f5.json","type":"application/json","size":309},{"uid":"c10d398a532db18f","name":"Response Body (Text)","source":"c10d398a532db18f.txt","type":"text/plain","size":20},{"uid":"872ff3773a192963","name":"Status response code: 500 (Expected: 200)","source":"872ff3773a192963.txt","type":"text/plain","size":3}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"auth_token","time":{"start":1745297611339,"stop":1745297611416,"duration":77},"status":"passed","steps":[],"attachments":[{"uid":"4b62abe5263e9eab","name":"Status Code: 200","source":"4b62abe5263e9eab.txt","type":"text/plain","size":3},{"uid":"6ec22bd69a247a84","name":"Request URL","source":"6ec22bd69a247a84.uri","type":"text/uri-list","size":30},{"uid":"4918f35be31f1b81","name":"Response Headers (JSON)","source":"4918f35be31f1b81.json","type":"application/json","size":317},{"uid":"a0f353fa8ff7003f","name":"Response Body (JSON)","source":"a0f353fa8ff7003f.json","type":"application/json","size":224},{"uid":"3c2c8906949c01f1","name":"Status response code: 200 (Expected: 200)","source":"3c2c8906949c01f1.txt","type":"text/plain","size":3},{"uid":"288db2846291d30","name":"Body of the answer (failed by AuthSuccessResponse)","source":"288db2846291d30.json","type":"application/json","size":220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"authenticated_api_req_context","time":{"start":1745297611417,"stop":1745297611426,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_user_client","time":{"start":1745297611426,"stop":1745297611426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authenticated_http_client","time":{"start":1745297611426,"stop":1745297611426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяем получение списка избранного для аутентифицированного пользователя.","status":"passed","steps":[{"name":"Проверка типа ответа и содержимого списка","time":{"start":1745297611456,"stop":1745297611457,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"b43ff9ed6f56838e","name":"Status Code: 200","source":"b43ff9ed6f56838e.txt","type":"text/plain","size":3},{"uid":"3c30f38849328e0","name":"Request URL","source":"3c30f38849328e0.uri","type":"text/uri-list","size":41},{"uid":"482a999554e0e902","name":"Response Headers (JSON)","source":"482a999554e0e902.json","type":"application/json","size":314},{"uid":"448fc9649d45ab6a","name":"Response Body (JSON)","source":"448fc9649d45ab6a.json","type":"application/json","size":2},{"uid":"6d6d06e682a1a7c6","name":"Status response code: 200 (Expected: 200)","source":"6d6d06e682a1a7c6.txt","type":"text/plain","size":3},{"uid":"9e322f75e78c9330","name":"Список избранного (ответ 200 OK)","source":"9e322f75e78c9330.json","type":"application/json","size":2},{"uid":"f3940f4245287570","name":"log","source":"f3940f4245287570.txt","type":"text/plain","size":1882},{"uid":"cab19bf290788e8","name":"stderr","source":"cab19bf290788e8.txt","type":"text/plain","size":2222}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"authenticated_api_req_context::0","time":{"start":1745297611459,"stop":1745297611468,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context::0","time":{"start":1745297611471,"stop":1745297611480,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1745297611481,"stop":1745297611490,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"story","value":"Получение списка избранного"},{"name":"tag","value":"positive"},{"name":"tag","value":"smoke"},{"name":"tag","value":"favourites"},{"name":"tag","value":"user"},{"name":"parentSuite","value":"tests.user"},{"name":"suite","value":"test_user_favourites_api"},{"name":"subSuite","value":"TestUserFavouritesAPI"},{"name":"host","value":"fv-az888-937"},{"name":"thread","value":"6-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.user.test_user_favourites_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b0ac3d2fe51d50f1","status":"failed","statusDetails":"Failed: КРИТИЧЕСКАЯ ОШИБКА: He удалось выполнить сессионный логин для пользователя testUser4@test.com. Ошибка: The status was pending 200, but received 500. URL: http://localhost:4040/api/auth\nBody of the answer:\nPlanned Server Error","time":{"start":1745297611266,"stop":1745297611266,"duration":0}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":3,"unknown":0,"total":3},"items":[{"uid":"5170912eb0e77426","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/72//#testresult/5170912eb0e77426","status":"passed","time":{"start":1745297412593,"stop":1745297412640,"duration":47}},{"uid":"53d490a07ea8615","reportUrl":"https://ZhikharevAl.github.io/fake_it_till_you_make_it/71//#testresult/53d490a07ea8615","status":"passed","time":{"start":1745297306288,"stop":1745297306319,"duration":31}}]},"tags":["favourites","smoke","positive","user"]},"source":"8c1e2c28c0298c8e.json","parameterValues":[]}